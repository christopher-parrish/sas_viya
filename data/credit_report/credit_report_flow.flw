{"creationTimeStamp":null,"modifiedTimeStamp":null,"createdBy":null,"modifiedBy":null,"version":2,"id":null,"name":"credit_report_flow.flw","description":null,"properties":{"UI_PROP_DF_OPTIMIZE":"false","UI_PROP_DF_ID":"e22b0625-ec75-419f-9b8c-d7df2bfe554a","UI_PROP_DF_EXECUTION_ORDERED":"false"},"links":[],"nodes":{"id-1693232054380-756":{"nodeType":"step","version":1,"id":"id-1693232054380-756","name":"credit_report_woe_calcs","note":{"version":1,"id":"id-1693232054382-760","name":null,"description":null,"properties":{"UI_NOTE_PROP_IS_EXPANDED":"false","UI_NOTE_PROP_HEIGHT":"0","UI_NOTE_PROP_WIDTH":"0","UI_NOTE_PROP_IS_STICKYNOTE":"false"}},"priority":0,"properties":{"UI_PROP_XPOS":"55","UI_PROP_YPOS":"29","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_INPUT_PORT|inTables|0":"fcd80d38-2706-428d-be33-278ae2644f97|Input table 1|Input tables","UI_PROP_OUTPUT_PORT|outTables|0":"777f0464-cbfd-4005-95e0-f221592f9f3a|Output table 1|Output tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_NODE_DATA_MODIFIED_DATE":"1684001468107"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepReference":{"type":"uri","path":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde"},"arguments":{"codeOptions":{"code":"cas casauto sessopts=(caslib=casuser);\n%let in_mem_tbl = 'credit_report';\n%let caslib_ref = 'casuser';\n%let cas_out = 'credit_report_woe';\n\nproc cas;\ntable.columnInfo result=C /\n\t\ttable={caslib=&caslib_ref, name=&in_mem_tbl};\nall_columns = C.ColumnInfo[,'Column'];\ninput_columns={\"num_credit_accounts_open\",\n\t\t\t\t\"num_credit_accounts_closed\",\n\t\t\t\t\"age\",\n\t\t\t\t\"debt_to_income\",\n\t\t\t\t\"credit_utilization_ratio\",\n\t\t\t\t\"length_of_last_job_mos\",\n\t\t\t\t\"credit_history_mos\",\n\t\t\t\t\"credit_score\",\n\t\t\t\t\"scheduled_payments_per_month\"\n\t\t\t\t};\ntarget = {\"customer_event\"};\ncopyvars_columns=all_columns-input_columns;\n\ndataPreprocess.transform status=rc /\n    table={name=&in_mem_tbl}\n    casout={name=&cas_out, promote=0, replace=1}\n    requestPackages={{discretize={method=\"WOE\", arguments={minNBins=3 maxNBins=7}}, \n    \t\t\t\t\tinputs=input_columns, targets=target, events='1', output={scoreWOE=TRUE}}}\n    outVarsNameGlobalPrefix=\"woe\"\n    copyVars=copyvars_columns;\n\nif rc.statusCode != 0 then do;\n    print \"Error running action in CASL\";\n    exit 3;\nend;\nrun;\n\n* may need to unload global scope tables first and save as perm tables;\nproc casutil;\n\tpromote casdata=&cas_out incaslib=&caslib_ref \n\t\t\tcasout=&cas_out outcaslib=&caslib_ref;\nrun;\n\nquit;","logHTML":"","resultsHTML":"","variables":[{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0,"arguments":{}}},{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}}],"contentType":"embedded"}}}},"parameters":{},"connections":[],"extendedProperties":{},"stickyNotes":[]}